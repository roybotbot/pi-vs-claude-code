plan-build-review:
  description: "Plan, implement, and review — the standard development cycle"
  steps:
    - agent: planner
      prompt: "Plan the implementation for: $INPUT"
    - agent: builder
      prompt: "Implement the following plan:\n\n$INPUT"
    - agent: reviewer
      prompt: "Review this implementation for bugs, style, and correctness:\n\n$INPUT"

plan-build:
  description: "Plan then build — fast two-step implementation without review"
  steps:
    - agent: planner
      prompt: "Plan the implementation for: $INPUT"
    - agent: builder
      prompt: "Based on this plan, implement:\n\n$INPUT"

scout-flow:
  description: "Triple-scout deep recon — explore, validate, verify"
  steps:
    - agent: scout
      prompt: "Explore the codebase and investigate: $INPUT\n\nReport your findings with structure, key files, and patterns."
    - agent: scout
      prompt: "Validate and cross-check the following analysis. Look for anything missed, incorrect, or incomplete:\n\n$INPUT\n\nOriginal request: $ORIGINAL"
    - agent: scout
      prompt: "Final review pass. Verify the analysis below is accurate and complete. Add any missing details or corrections:\n\n$INPUT\n\nOriginal request: $ORIGINAL"

plan-review-plan:
  description: "Iterative planning — plan, critique, then refine with feedback"
  steps:
    - agent: planner
      prompt: "Create a detailed implementation plan for: $INPUT"
    - agent: plan-reviewer
      prompt: "Critically review this implementation plan. Challenge assumptions, find gaps, and suggest improvements:\n\n$INPUT\n\nOriginal request: $ORIGINAL"
    - agent: planner
      prompt: "Revise and improve your implementation plan based on this critique. Address every issue raised and incorporate the recommendations:\n\nOriginal request: $ORIGINAL\n\nCritique:\n$INPUT"

full-review:
  description: "End-to-end pipeline — scout, plan, build, and review"
  steps:
    - agent: scout
      prompt: "Explore the codebase and identify: $INPUT"
    - agent: planner
      prompt: "Based on this analysis, create a plan:\n\n$INPUT"
    - agent: builder
      prompt: "Implement this plan:\n\n$INPUT"
    - agent: reviewer
      prompt: "Review this implementation:\n\n$INPUT"
